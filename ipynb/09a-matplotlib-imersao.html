
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>9. Imersão em matplotlib &#8212; Introdução à Visualização de Dados</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/dataviz.css?v=1df44834" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'ipynb/09a-matplotlib-imersao';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="10. Dataviz Code Session: Quantidades" href="20-dcs-quantidade.html" />
    <link rel="prev" title="8. Técnicas de Storytelling" href="08a-storytelling.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="00-apresentacao.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo-dataviz.png" class="logo__image only-light" alt="Introdução à Visualização de Dados - Home"/>
    <img src="../_static/logo-dataviz.png" class="logo__image only-dark pst-js-only" alt="Introdução à Visualização de Dados - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="00-apresentacao.html">
                    Apresentação
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Fundamentos</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01a-introducao.html">1. Introdução à Visualização de Dados</a></li>
<li class="toctree-l1"><a class="reference internal" href="02a-historico.html">2. Marcos Históricos da Visualização de Dados</a></li>
<li class="toctree-l1"><a class="reference internal" href="03a-estetica.html">3. Criação de Representações Visuais e Estética</a></li>
<li class="toctree-l1"><a class="reference internal" href="04a-eixos.html">4. Eixos, Escalas e Sistemas de Coordenadas</a></li>
<li class="toctree-l1"><a class="reference internal" href="05a-percepcao.html">5. Percepção Visual</a></li>
<li class="toctree-l1"><a class="reference internal" href="06a-cores.html">6. Cores</a></li>
<li class="toctree-l1"><a class="reference internal" href="07a-lounge.html">7. <em>Lounge</em> das Representações Visuais</a></li>
<li class="toctree-l1"><a class="reference internal" href="08a-storytelling.html">8. Técnicas de <em>Storytelling</em></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">9. Imersão em <em>matplotlib</em></a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Técnica</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="20-dcs-quantidade.html">10. <em>Dataviz Code Session</em>: Quantidades</a></li>
<li class="toctree-l1"><a class="reference internal" href="21-dcs-distribuicoes.html">11. <em>Dataviz Code Session</em>: Distribuições</a></li>
<li class="toctree-l1"><a class="reference internal" href="23-dcs-geoespacial.html">12. <em>Dataviz Code Session</em>: Dados Geoespaciais</a></li>
<li class="toctree-l1"><a class="reference internal" href="24-dcs-multidimensional.html">13. <em>Dataviz Code Session</em>: Dados Multidimensionais</a></li>
<li class="toctree-l1"><a class="reference internal" href="25-dcs-redes.html">14. <em>Dataviz Code Session</em>: Redes Complexas</a></li>
<li class="toctree-l1"><a class="reference internal" href="26-dcs-cientifica.html">15. <em>Dataviz Code Session</em>: Visualização Científica</a></li>
<li class="toctree-l1"><a class="reference internal" href="27-dcs-serietemporal.html">16. <em>Dataviz Code Session</em>: Séries Temporais</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Aplicações</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="28-dw-plotly.html">17. <em>Dataviz Workshop</em>: objetos gráficos e <em>Plotly Express</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="30-dw-dash.html">18. <em>Dataviz Workshop</em>: <em>Dashboarding</em> com <em>Dash</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="31-dw-reporting.html">19. <em>Dataviz Workshop</em>: <em>Data Reporting</em> com HTML/PDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="32-dw-reportlab.html">20. <em>Dataviz Workshop</em>: <em>Data Reporting</em> com <code class="docutils literal notranslate"><span class="pre">reportlab</span></code></a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Avaliações</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="10a-acvd.html">Análise de Casos de Visualização de Dados - ACVD</a></li>
<li class="toctree-l1"><a class="reference internal" href="20a-ecvd.html">Estudo de Caso de Visualização de Dados - ECVD</a></li>
<li class="toctree-l1"><a class="reference internal" href="capstone-template.html">Projeto Final de Visualização de Dados - PFVD</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Suplemento</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="A-quick-guide-seaborn.html">Guia rápido de plotagem - <code class="docutils literal notranslate"><span class="pre">seaborn</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="B-quick-guide-matplotlib.html">Guia rápido de plotagem - <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/gcpeixoto/DATAVIZ/blob/master/ipynb/09a-matplotlib-imersao.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/ipynb/09a-matplotlib-imersao.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Imersão em matplotlib</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backend-x-frontend">9.1. <em>Backend</em> x <em>frontend</em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configuracao-de-backend">9.1.1. Configuração de <em>backend</em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#modificando-as-rc-settings">9.1.1.1. Modificando as <em>rc settings</em></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#definindo-variavel-de-ambiente">9.1.1.2. Definindo variável de ambiente</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#usando-a-funcao-use">9.1.1.3. Usando a função <code class="docutils literal notranslate"><span class="pre">use()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backends-predefinidos-renderizadores-e-canvas">9.1.2. <em>Backends</em> predefinidos, renderizadores e <em>canvas</em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#rasterizacao-e-vetorizacao">9.1.2.1. Rasterização e vetorização</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dissecando-um-plot">9.2. Dissecando um plot</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anatomia-de-uma-figura">9.2.1. Anatomia de uma figura</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#template-para-funcao-de-auxilio-helper-function-de-plotagem">9.2.2. Template para função de auxílio (<em>helper function</em>) de plotagem</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estilos-de-codagem">9.3. Estilos de codagem</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estilizacao-do-artist">9.4. Estilização do <code class="docutils literal notranslate"><span class="pre">Artist</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estilos-padronizados">9.5. Estilos padronizados</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estilos-personalizados">9.6. Estilos personalizados</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introspeccao-do-artist">9.7. Introspecção do <code class="docutils literal notranslate"><span class="pre">Artist</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manipulando-objetos">9.7.1. Manipulando objetos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gets-e-sets">9.7.2. <code class="docutils literal notranslate"><span class="pre">gets</span></code> e <code class="docutils literal notranslate"><span class="pre">sets</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estilizacao-temporaria">9.8. Estilização temporária</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="imersao-em-matplotlib">
<h1><span class="section-number">9. </span>Imersão em <em>matplotlib</em><a class="headerlink" href="#imersao-em-matplotlib" title="Link to this heading">#</a></h1>
<section id="backend-x-frontend">
<h2><span class="section-number">9.1. </span><em>Backend</em> x <em>frontend</em><a class="headerlink" href="#backend-x-frontend" title="Link to this heading">#</a></h2>
<p><em>Backends</em> são mecanismos que agem “por detrás do palco” para construir as figuras. São de dois tipos:</p>
<ul class="simple">
<li><p><em>Backend interativo</em>: utilizado para produzir figuras para uso em interfaces, tais como PyQt/PySide, PyGObject, Tkinter, wxPython e macOS/Cocoa.</p></li>
<li><p><em>Backend de impressão</em>: utilizado para produzir arquivos de imagem em formatos usuais, tais como SVG, PNG, PDF e PS.</p></li>
</ul>
<section id="configuracao-de-backend">
<h3><span class="section-number">9.1.1. </span>Configuração de <em>backend</em><a class="headerlink" href="#configuracao-de-backend" title="Link to this heading">#</a></h3>
<p>Útil para modificar propriedades padrão de estilo. Realizada de 3 formas:</p>
<ol class="arabic simple">
<li><p>Modificando as configurações de execução (<em>runtime configuration</em>), comumente chamadas de <em>rc settings</em>.</p></li>
<li><p>Definindo a variável de ambiente <code class="docutils literal notranslate"><span class="pre">MPLBACKEND</span></code>.</p></li>
<li><p>Usando a função <code class="docutils literal notranslate"><span class="pre">matplotlib.use()</span></code>.</p></li>
</ol>
<section id="modificando-as-rc-settings">
<h4><span class="section-number">9.1.1.1. </span>Modificando as <em>rc settings</em><a class="headerlink" href="#modificando-as-rc-settings" title="Link to this heading">#</a></h4>
<p>Os parâmetros padrão são definidos em uma variável tipo <code class="docutils literal notranslate"><span class="pre">dict</span></code> denominada <code class="docutils literal notranslate"><span class="pre">rcParams</span></code>. Para alterar o <em>backend</em>, devemos alterar a propriedade de mesmo nome no arquivo de configuração <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code>.</p>
<ul class="simple">
<li><p>Localize o arquivo:</p></li>
</ul>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mpl</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">matplotlib_fname</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;/Users/gustavo/opt/anaconda3/envs/lecture/lib/python3.9/site-packages/matplotlib/mpl-data/matplotlibrc&#39;
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Localize a linha do parâmetro <code class="docutils literal notranslate"><span class="pre">backend</span></code> e a modifique:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## the module name (which must be in the PYTHONPATH) as &#39;module://my_backend&#39;.</span>
<span class="c1">#backend: Agg</span>
</pre></div>
</div>
<p>Nota: se um <em>backend</em> não for explicitamente definido, o <em>matplotlib</em> usará o disponível no sistema operacional seguindo uma ordem de preferência, assim como se lê no <code class="docutils literal notranslate"><span class="pre">matplotlibrc</span></code>. Por exemplo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## The default backend.  If you omit this parameter, the first working</span>
<span class="c1">## backend from the following list is used:</span>
<span class="c1">##     MacOSX Qt5Agg Gtk3Agg TkAgg WxAgg Agg</span>
<span class="c1">## Other choices include:</span>
<span class="c1">##     Qt5Cairo GTK3Cairo TkCairo WxCairo Cairo</span>
<span class="c1">##     Qt4Agg Qt4Cairo Wx  # deprecated.</span>
<span class="c1">##     PS PDF SVG Template</span>
</pre></div>
</div>
</section>
<section id="definindo-variavel-de-ambiente">
<h4><span class="section-number">9.1.1.2. </span>Definindo variável de ambiente<a class="headerlink" href="#definindo-variavel-de-ambiente" title="Link to this heading">#</a></h4>
<p>Se este método for usado, uma variável de ambiente pode ser definida para o <em>shell</em> atual ou globalmente. Por exemplo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">MPLBACKEND</span><span class="o">=</span><span class="n">macoxs</span>
</pre></div>
</div>
<p>Entretanto, defini-la globalmente em arquivos de configuração, tais como <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> ou <code class="docutils literal notranslate"><span class="pre">.zshrc</span></code> pode não ser uma escolha sábia.</p>
</section>
<section id="usando-a-funcao-use">
<h4><span class="section-number">9.1.1.3. </span>Usando a função <code class="docutils literal notranslate"><span class="pre">use()</span></code><a class="headerlink" href="#usando-a-funcao-use" title="Link to this heading">#</a></h4>
<p>A função <code class="docutils literal notranslate"><span class="pre">matplotlib.use()</span></code> deve ser chamada apenas se o <em>script</em> a ser executado depende de um <em>backend</em> específico. Neste caso, a chamada deve preceder a criação de qualquer figura e ser aplicada toda vez que houver alterações de <em>backend</em> entre usuários diferentes. O modo de chamá-la é:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mpl</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;macosx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="backends-predefinidos-renderizadores-e-canvas">
<h3><span class="section-number">9.1.2. </span><em>Backends</em> predefinidos, renderizadores e <em>canvas</em><a class="headerlink" href="#backends-predefinidos-renderizadores-e-canvas" title="Link to this heading">#</a></h3>
<p>O <em>matplotlib</em> possui <em>backends</em> predefinidos e, em geral, um <em>backend</em> padrão é carregado quando trabalhamos com plotagens, não sendo, a princípio, necessário tomar nenhuma ação por parte do usuário.</p>
<p>Por outro lado, quando interfaces gráficas ou aplicações <em>web</em> são pretendidas, manipular <em>backends</em> pode ser inevitável. Visando facilitar o desenvolvimento de interfaces, o <em>matplotlib</em> segmenta <em>backends</em> em duas classes:</p>
<ul class="simple">
<li><p>renderizadores: entidades responsáveis pelo desenho;</p></li>
<li><p><em>canvas</em>: local onde o desenho é feito;</p></li>
</ul>
<p>O renderizador canônico para interfaces é o <code class="docutils literal notranslate"><span class="pre">Agg</span></code>, baseado na biblioteca para C++ <em>Anti-Grain Geometry</em>, responsável pela rasterização das imagens. O <code class="docutils literal notranslate"><span class="pre">Agg</span></code> é utilizado pelos backends <code class="docutils literal notranslate"><span class="pre">QtAgg</span></code>, <code class="docutils literal notranslate"><span class="pre">GTK4Agg</span></code>, <code class="docutils literal notranslate"><span class="pre">GTK3Agg</span></code>, <code class="docutils literal notranslate"><span class="pre">wxAgg</span></code>, <code class="docutils literal notranslate"><span class="pre">TkAgg</span></code>, e <code class="docutils literal notranslate"><span class="pre">macosx</span></code>. Outro renderizador é baseado na biblioteca <code class="docutils literal notranslate"><span class="pre">Cairo</span></code>, tal como o <code class="docutils literal notranslate"><span class="pre">QtCairo</span></code>.</p>
<section id="rasterizacao-e-vetorizacao">
<h4><span class="section-number">9.1.2.1. </span>Rasterização e vetorização<a class="headerlink" href="#rasterizacao-e-vetorizacao" title="Link to this heading">#</a></h4>
<p>Os renderizadores podem ser classificados em dois tipos:</p>
<ul class="simple">
<li><p>rasterizadores: produzem imagens bidimensionais a partir de uma matriz retangular ou grade de pixels. O espaço de cores a que os pixels se submetem determina a imagem. Exemplos de arquivos de imagens rasterizadas são BMP, GIF, JPEG e PNG. São livres de escala.</p></li>
<li><p>vetorizadores: produzem imagens diretamente a partir de formas geométricas, tais como pontos, retas, curvas e polígonos. Exemplos de arquivos de imagens vetorizadas são AI, CDR, SVG e EPS. A representação do pixel depende da resolução, em geral medida em pontos por polegada, i.e. DPI (<em>dots per inch</em>).</p></li>
</ul>
<p>A geração de figuras com os <em>backends</em> de impressão é feita por meio do comando</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mpl</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;arquivo.X&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>substituindo <code class="docutils literal notranslate"><span class="pre">X</span></code> pela extensão do arquivo desejado (ex.: png, pdf, ps, eps, svg, pgf).</p>
<p>Os <em>backends</em> interativos são responsáveis por mostrar as figuras em tela (ex.: qtagg, ipympl, gtk3cairo, etc.)</p>
</section>
</section>
</section>
<section id="dissecando-um-plot">
<h2><span class="section-number">9.2. </span>Dissecando um plot<a class="headerlink" href="#dissecando-um-plot" title="Link to this heading">#</a></h2>
<p>O <em>matplotlib</em> plota dados em um objeto abstrato chamado “Figura” (<code class="docutils literal notranslate"><span class="pre">Figure</span></code>), que contém um “eixo” (<code class="docutils literal notranslate"><span class="pre">Axes</span></code>) ou mais, que define a “área” de plotagem.</p>
<p>A maneira mais simples de se plotar algo é usando <code class="docutils literal notranslate"><span class="pre">pyplot.subplots</span></code> e <code class="docutils literal notranslate"><span class="pre">Axes.plot</span></code> como comandos essenciais.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span> <span class="c1"># cria figura com eixo único</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]);</span> <span class="c1"># cria objeto lines.Line2D</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/7db34678e965ccc2a2a82d2f6a8393edfabde9707cd9ae3e6b0c4235477da8cd.png" src="../_images/7db34678e965ccc2a2a82d2f6a8393edfabde9707cd9ae3e6b0c4235477da8cd.png" />
</div>
</div>
<section id="anatomia-de-uma-figura">
<h3><span class="section-number">9.2.1. </span>Anatomia de uma figura<a class="headerlink" href="#anatomia-de-uma-figura" title="Link to this heading">#</a></h3>
<p>Em matplotlib, <code class="docutils literal notranslate"><span class="pre">Artist</span></code> é uma classe abstrata que comporta vários objetos. <code class="docutils literal notranslate"><span class="pre">Figure</span></code>, <code class="docutils literal notranslate"><span class="pre">Axes</span></code>, <code class="docutils literal notranslate"><span class="pre">Axis</span></code>, <code class="docutils literal notranslate"><span class="pre">Text</span></code>, <code class="docutils literal notranslate"><span class="pre">Line2D</span></code>, <code class="docutils literal notranslate"><span class="pre">Patch</span></code> são todos “filhos” de <code class="docutils literal notranslate"><span class="pre">Artist</span></code>, mas considerados “artistas” do <em>canvas</em>.</p>
<p>O resumo dos objetos é dado como segue:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">FigureCanvas</span></code>: é uma espécie de contêiner para a Figura. Grosso modo, seria visto como a tela de pintura onde se passa a tinta.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Figure</span></code>: é um recipiente para um ou mais eixos. É possível criar um número arbitrário de figuras contendo linhas, textos e <em>patches</em> próprios, todos independentes de quaisquer eixos.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Axes</span></code>: é a área retangular que contém os elementos básicos gerados pela plotagem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Axis</span></code>: são os elementos que fornecem a escala, os limites e as marcas (<em>ticks</em>) e as legendas das marcas (<em>ticklabels</em>) que constituirão os eixos das abcissas e das ordenadas.</p></li>
</ul>
<p>Nota: embora <code class="docutils literal notranslate"><span class="pre">Axes</span></code> signifique “eixo”, este objeto determina a “área” de plotagem. Os objetos <code class="docutils literal notranslate"><span class="pre">Axis</span></code> (“eixos”) correspondem aos eixos propriamente ditos (2 em 2D; 3 em 3D).</p>
<p>Abaixo, seguiremos um passo a passo para descrever a anatomia de uma figura construída com <em>matplotlib</em>.</p>
<ul class="simple">
<li><p>Figura vazia sem eixos</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span> <span class="c1"># figura vazia</span>
<span class="c1">#fig.show() # testar em prompt, visto que no Jupyter, o backend é inline.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 432x288 with 0 Axes&gt;
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Figura vazia com 1 eixo</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span> <span class="c1"># figura com 1 eixo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/79496cacbf51e74d0754f62e48d01cbef2d525123cdf01656e3a05f166b8a108.png" src="../_images/79496cacbf51e74d0754f62e48d01cbef2d525123cdf01656e3a05f166b8a108.png" />
</div>
</div>
<ul class="simple">
<li><p>Figura vazia com dois eixos</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># figura com 2 eixo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/0e9f595a0d633f1c4b4e187e30575a53b5f86db5a535165b644d67c2217e469a.png" src="../_images/0e9f595a0d633f1c4b4e187e30575a53b5f86db5a535165b644d67c2217e469a.png" />
</div>
</div>
<ul class="simple">
<li><p>Figura com propriedades alteradas</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># altera propriedades</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.facecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.facecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;green&#39;</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.edgecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;white&#39;</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/df7f769e16508bda539bda80031c7c114d86032d64f9f187686e3d6dee91433b.png" src="../_images/df7f769e16508bda539bda80031c7c114d86032d64f9f187686e3d6dee91433b.png" />
</div>
</div>
<ul class="simple">
<li><p>Acessando <em>rc settings</em>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># localiza parâmetros do objeto especificado</span>
<span class="c1"># e imprime o nome de suas propriedades e valores</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">re</span><span class="w"> </span><span class="kn">import</span> <span class="n">match</span>

<span class="n">art</span> <span class="o">=</span> <span class="s1">&#39;axes&#39;</span> <span class="c1"># axes</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">match</span><span class="p">(</span><span class="n">art</span><span class="p">,</span><span class="n">k</span><span class="p">):</span>                    
        <span class="nb">print</span><span class="p">((</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;axes.autolimit_mode&#39;, &#39;data&#39;)
(&#39;axes.axisbelow&#39;, &#39;line&#39;)
(&#39;axes.edgecolor&#39;, &#39;white&#39;)
(&#39;axes.facecolor&#39;, &#39;green&#39;)
(&#39;axes.formatter.limits&#39;, [-5, 6])
(&#39;axes.formatter.min_exponent&#39;, 0)
(&#39;axes.formatter.offset_threshold&#39;, 4)
(&#39;axes.formatter.use_locale&#39;, False)
(&#39;axes.formatter.use_mathtext&#39;, False)
(&#39;axes.formatter.useoffset&#39;, True)
(&#39;axes.grid&#39;, False)
(&#39;axes.grid.axis&#39;, &#39;both&#39;)
(&#39;axes.grid.which&#39;, &#39;major&#39;)
(&#39;axes.labelcolor&#39;, &#39;black&#39;)
(&#39;axes.labelpad&#39;, 4.0)
(&#39;axes.labelsize&#39;, &#39;medium&#39;)
(&#39;axes.labelweight&#39;, &#39;normal&#39;)
(&#39;axes.linewidth&#39;, 0.8)
(&#39;axes.prop_cycle&#39;, cycler(&#39;color&#39;, [&#39;#1f77b4&#39;, &#39;#ff7f0e&#39;, &#39;#2ca02c&#39;, &#39;#d62728&#39;, &#39;#9467bd&#39;, &#39;#8c564b&#39;, &#39;#e377c2&#39;, &#39;#7f7f7f&#39;, &#39;#bcbd22&#39;, &#39;#17becf&#39;]))
(&#39;axes.spines.bottom&#39;, True)
(&#39;axes.spines.left&#39;, True)
(&#39;axes.spines.right&#39;, True)
(&#39;axes.spines.top&#39;, True)
(&#39;axes.titlecolor&#39;, &#39;auto&#39;)
(&#39;axes.titlelocation&#39;, &#39;center&#39;)
(&#39;axes.titlepad&#39;, 6.0)
(&#39;axes.titlesize&#39;, &#39;large&#39;)
(&#39;axes.titleweight&#39;, &#39;normal&#39;)
(&#39;axes.titley&#39;, None)
(&#39;axes.unicode_minus&#39;, True)
(&#39;axes.xmargin&#39;, 0.05)
(&#39;axes.ymargin&#39;, 0.05)
(&#39;axes3d.grid&#39;, True)
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Alteração de propriedades selecionadas</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.spines.left&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.spines.right&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/9ea7b205d31dc5f6f1dfaab3bff674d8744df9668ba2f80860c0a132bf5b40c1.png" src="../_images/9ea7b205d31dc5f6f1dfaab3bff674d8744df9668ba2f80860c0a132bf5b40c1.png" />
</div>
</div>
<ul class="simple">
<li><p>Alteração de figura com eixos independentes</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mpl</span><span class="o">.</span><span class="n">rcdefaults</span><span class="p">()</span> <span class="c1"># reset de parâmetros</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
                        <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># print(len(axs)) # note que há 2 eixos</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">);</span> 
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">);</span> 
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>

<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">);</span> 
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/aa6e90b5a911cda764b44cd56ff1b5ff86ddcf87c46a4889ceae489583ca434f.png" src="../_images/aa6e90b5a911cda764b44cd56ff1b5ff86ddcf87c46a4889ceae489583ca434f.png" />
</div>
</div>
<ul class="simple">
<li><p>Plotagem de curvas</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>

<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">z</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>

<span class="n">fig</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/fc32969811eee230ec2645732fd19efd7c6a0fcb764bd6ccc210ff56baa91636.png" src="../_images/fc32969811eee230ec2645732fd19efd7c6a0fcb764bd6ccc210ff56baa91636.png" />
</div>
</div>
</section>
<section id="template-para-funcao-de-auxilio-helper-function-de-plotagem">
<h3><span class="section-number">9.2.2. </span>Template para função de auxílio (<em>helper function</em>) de plotagem<a class="headerlink" href="#template-para-funcao-de-auxilio-helper-function-de-plotagem" title="Link to this heading">#</a></h3>
<p>O código abaixo define uma função de auxílio básica para plotagem genérica usando <code class="docutils literal notranslate"><span class="pre">plot</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">h_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function para gráficos simples e modificação de Line2D.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">p</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">3456</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">x2</span><span class="p">,</span><span class="n">y2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">n</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">n</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">n</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,(</span><span class="n">ax1</span><span class="p">,</span><span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span>
                             <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                             <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>

<span class="n">h_plot</span><span class="p">(</span><span class="n">ax1</span><span class="p">,</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">,{</span><span class="s1">&#39;ls&#39;</span><span class="p">:</span><span class="s1">&#39;--&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;marker&#39;</span><span class="p">:</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;ms&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span>
                  <span class="s1">&#39;mfc&#39;</span><span class="p">:</span><span class="s1">&#39;b&#39;</span><span class="p">})</span>

<span class="n">h_plot</span><span class="p">(</span><span class="n">ax2</span><span class="p">,</span><span class="n">x2</span><span class="p">,</span><span class="n">y2</span><span class="p">,{</span><span class="s1">&#39;ls&#39;</span><span class="p">:</span><span class="s1">&#39;:&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;marker&#39;</span><span class="p">:</span><span class="s1">&#39;*&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;lw&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                  <span class="s1">&#39;ms&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                  <span class="s1">&#39;mfc&#39;</span><span class="p">:</span><span class="s1">&#39;y&#39;</span><span class="p">});</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/9e6d79da14b3b07d85c8ee628e89b69a00eae66ba556c46347daaeeef3e30d27.png" src="../_images/9e6d79da14b3b07d85c8ee628e89b69a00eae66ba556c46347daaeeef3e30d27.png" />
</div>
</div>
</section>
</section>
<section id="estilos-de-codagem">
<h2><span class="section-number">9.3. </span>Estilos de codagem<a class="headerlink" href="#estilos-de-codagem" title="Link to this heading">#</a></h2>
<p>Plotagens genéricas podem ser executadas por meio de dois estilos de codagem:</p>
<ul class="simple">
<li><p><em>explícito</em>, quando chamamos métodos a partir de objetos <code class="docutils literal notranslate"><span class="pre">Figure</span></code> e <code class="docutils literal notranslate"><span class="pre">Axes</span></code> (estilo orientação a objetos);</p></li>
<li><p><em>implícito</em>, quando usamos funções do submódulo <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> para criar esses objetos implicitamente.</p></li>
</ul>
<p>Todas as plotagens anteriores foram realizadas pelo modo explícito, mas, vejamos mais um exemplo e como ele se contrasta com o caso implícito.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># exemplo de plotagem EXPLÍCITA (estilo POO)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># domínio</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;$y = x+1$&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;eixo x&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;eixo y&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/c9ddd64f32c59dd1d4e740259c0a71a1e618b229119d9d7ad99eaf0eb527000f.png" src="../_images/c9ddd64f32c59dd1d4e740259c0a71a1e618b229119d9d7ad99eaf0eb527000f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># exemplo de plotagem IMPLÍCITA (estilo pyplot)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># domínio</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;$y = x+1$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;eixo x&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;eixo y&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/c9ddd64f32c59dd1d4e740259c0a71a1e618b229119d9d7ad99eaf0eb527000f.png" src="../_images/c9ddd64f32c59dd1d4e740259c0a71a1e618b229119d9d7ad99eaf0eb527000f.png" />
</div>
</div>
<p>Nota: o estilo explícito é recomendado para plotagens complicadas ou scripts reutilizáveis, ao passo que o estilo implícito é recomendado para plotagens simples e rápidas.</p>
</section>
<section id="estilizacao-do-artist">
<h2><span class="section-number">9.4. </span>Estilização do <code class="docutils literal notranslate"><span class="pre">Artist</span></code><a class="headerlink" href="#estilizacao-do-artist" title="Link to this heading">#</a></h2>
<p>Para exemplificar estilos, tomaremos como dado de exemplo a série temporal de anomalia de temperatura no período 2020 - 2021 para as coordenadas próximas à cidade de João Pessoa (7.1S,35.0W), disponibilizadas
pelo <a class="reference external" href="https://www.ncei.noaa.gov/">NOAA/NASA</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># série temporal de anomalia de temperatura: 2020 - 2021</span>
<span class="c1"># (lat,lot) = (7.1S,35.0W) :: JPA</span>
<span class="n">jpa_temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://www.ncei.noaa.gov/cag/global/time-series/-7.1,-35/land_ocean/12/12/2000-2022/data.csv&#39;</span><span class="p">,</span>
<span class="n">skiprows</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="n">ano</span><span class="p">,</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">jpa_temp</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">],</span><span class="n">jpa_temp</span><span class="p">[</span><span class="s1">&#39;Anomaly&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>A seguir, temos uma plotagem em mosaico (<code class="docutils literal notranslate"><span class="pre">subplot_mosaic</span></code>) com formatação independente por eixos. Para criar um mosaico, usamos um formato de matriz com <em>m</em> linhas e <em>n</em> colunas. Cada lista de <em>n</em> elementos deve vir associada à <em>m</em>-ésima linha da matriz como uma “lista de listas”.</p>
<p>O mosaico tem a estrutura de uma matriz <em>2 x 3</em>. Utilizamos letras para referir-se às linhas, e números às colunas. Neste caso, o quadrante A2 e B3 são <em>dummies</em>.</p>
<p>Primeiramente, plotamos o esquema.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fix</span><span class="p">,</span> <span class="n">axm</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot_mosaic</span><span class="p">([[</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">],[</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">]],</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;A1&#39;</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; A2 &#39;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="s1">&#39;.&#39;</span><span class="p">))</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>

<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;A3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;A3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;A3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;A3&#39;</span><span class="p">)</span>


<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;B1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;B1&#39;</span><span class="p">)</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;B1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;B1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>

<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;B2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;B2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;B2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;B2&#39;</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">48</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; B3 &#39;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="s1">&#39;.&#39;</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/9f53bbeff14d2146d1ec511a7e0f037fdb70fb87f598558e2fcb4e4a9cf37a6f.png" src="../_images/9f53bbeff14d2146d1ec511a7e0f037fdb70fb87f598558e2fcb4e4a9cf37a6f.png" />
</div>
</div>
<p>Em segundo lugar, plotamos os dados reais.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fix</span><span class="p">,</span> <span class="n">axm</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot_mosaic</span><span class="p">([[</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;A3&#39;</span><span class="p">],[</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">]],</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ano</span><span class="p">,</span><span class="n">temp</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;#ffaabb&#39;</span><span class="p">)</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;A1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Série 2000 - 2021&#39;</span><span class="p">)</span>

<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;A3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">ano</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:],</span><span class="n">temp</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:],</span><span class="n">markerfmt</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">linefmt</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="n">basefmt</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;A3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Série 2017 - 2021&#39;</span><span class="p">)</span>


<span class="c1"># setup de cores para linha 2: </span>
<span class="c1"># tons azuis (&lt; 0); tons vermelhos (&gt; 0)</span>
<span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#e06666&#39;</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">t</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">temp</span><span class="p">):</span>
     <span class="k">if</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;#4ca6ff&#39;</span>
<span class="n">c</span><span class="p">[</span><span class="n">temp</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()]</span> <span class="o">=</span> <span class="s1">&#39;#f44336&#39;</span>

<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;B1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">ano</span><span class="p">[:</span><span class="mi">4</span><span class="p">],</span><span class="n">temp</span><span class="p">[:</span><span class="mi">4</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;B1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Série 2000 - 2003&#39;</span><span class="p">)</span>

<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;B2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">ano</span><span class="p">,</span><span class="n">temp</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;B2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Série 2000 - 2021&#39;</span><span class="p">)</span>

<span class="n">axm</span><span class="p">[</span><span class="s1">&#39;B2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="o">-</span><span class="mf">.1</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;$+</span><span class="si">{</span><span class="n">temp</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">}</span><span class="s1">^\circ$&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;#f44336&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/1ac5091d6242e9f7e015fbf773bec63950e74abdca339b6d95237f77292eca6b.png" src="../_images/1ac5091d6242e9f7e015fbf773bec63950e74abdca339b6d95237f77292eca6b.png" />
</div>
</div>
</section>
<section id="estilos-padronizados">
<h2><span class="section-number">9.5. </span>Estilos padronizados<a class="headerlink" href="#estilos-padronizados" title="Link to this heading">#</a></h2>
<p>O <em>matplotlib</em> dispõe de algumas dezenas de estilos padronizados para uso imediato. Para listá-los, invocamos <code class="docutils literal notranslate"><span class="pre">plt.style.available</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">e</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">available</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1 Solarize_Light2
2 _classic_test_patch
3 _mpl-gallery
4 _mpl-gallery-nogrid
5 bmh
6 classic
7 dark_background
8 fast
9 fivethirtyeight
10 ggplot
11 grayscale
12 seaborn-v0_8
13 seaborn-v0_8-bright
14 seaborn-v0_8-colorblind
15 seaborn-v0_8-dark
16 seaborn-v0_8-dark-palette
17 seaborn-v0_8-darkgrid
18 seaborn-v0_8-deep
19 seaborn-v0_8-muted
20 seaborn-v0_8-notebook
21 seaborn-v0_8-paper
22 seaborn-v0_8-pastel
23 seaborn-v0_8-poster
24 seaborn-v0_8-talk
25 seaborn-v0_8-ticks
26 seaborn-v0_8-white
27 seaborn-v0_8-whitegrid
28 tableau-colorblind10
</pre></div>
</div>
</div>
</div>
<p>Para carregar os estilos, usamos <code class="docutils literal notranslate"><span class="pre">plt.style.use(&lt;style&gt;)</span></code>, passando como o estilo como argumento.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sty_test</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;classic&#39;</span><span class="p">,</span><span class="s1">&#39;ggplot&#39;</span><span class="p">,</span><span class="s1">&#39;fivethirtyeight&#39;</span><span class="p">,</span>
<span class="s1">&#39;grayscale&#39;</span><span class="p">]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">plot_test</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">sty</span><span class="p">):</span>
    <span class="n">exec</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;plt.style.use(</span><span class="se">\&#39;</span><span class="si">{</span><span class="n">sty</span><span class="si">}</span><span class="se">\&#39;</span><span class="s1">)&#39;</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;$y = x^2 - 1$&#39;</span><span class="p">)</span>



<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sty_test</span><span class="p">):</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">sty_test</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">([]);</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">([])</span>
    <span class="n">plot_test</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>  


<span class="c1"># restabelece padrão</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcdefaults</span><span class="p">();</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f9547bc9dc464e7a68632546aec51da9a2d1428c0cc71c589cc3cc36657ca3d6.png" src="../_images/f9547bc9dc464e7a68632546aec51da9a2d1428c0cc71c589cc3cc36657ca3d6.png" />
<img alt="../_images/b2735b46c05bdde3ad691eec4e6dae8dccffd3f0d228bd6b17da2417e327f91a.png" src="../_images/b2735b46c05bdde3ad691eec4e6dae8dccffd3f0d228bd6b17da2417e327f91a.png" />
<img alt="../_images/a4510d4914b3884400cadd3c1d06431dcbd40b96ee2bb6986a8f5e0a8b38dd49.png" src="../_images/a4510d4914b3884400cadd3c1d06431dcbd40b96ee2bb6986a8f5e0a8b38dd49.png" />
<img alt="../_images/9b0774ed9f89222a922799dfea7499008ea1031b88b822002d55d782560f4c9e.png" src="../_images/9b0774ed9f89222a922799dfea7499008ea1031b88b822002d55d782560f4c9e.png" />
</div>
</div>
</section>
<section id="estilos-personalizados">
<h2><span class="section-number">9.6. </span>Estilos personalizados<a class="headerlink" href="#estilos-personalizados" title="Link to this heading">#</a></h2>
<p>É possível customizar o estilo das plotagens criando uma folha de estilo (<em>style sheet</em>) personalizada. A <em>style sheet</em> pode ser criada seguindo um padrão similar ao encontrado em <a class="reference external" href="https://www.w3schools.com/css/default.asp">CSS</a>.</p>
<p>A folha de estilo possui extensão <code class="docutils literal notranslate"><span class="pre">mplstyle</span></code> e é carregada com <code class="docutils literal notranslate"><span class="pre">plt.style.use(&lt;arquivo&gt;.mplstyle)</span></code>.</p>
<p>Abaixo temos um extrato de uma <em>style sheet</em> que modifica propriedades de <code class="docutils literal notranslate"><span class="pre">Axes</span></code> e <code class="docutils literal notranslate"><span class="pre">Grid</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># AXES</span>
<span class="n">axes</span><span class="o">.</span><span class="n">titlesize</span><span class="p">:</span> <span class="mi">16</span>
<span class="n">axes</span><span class="o">.</span><span class="n">labelsize</span><span class="p">:</span> <span class="mi">14</span>

<span class="c1"># GRID</span>
<span class="n">axes</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span> <span class="kc">True</span>
<span class="n">grid</span><span class="o">.</span><span class="n">alpha</span><span class="p">:</span> <span class="mf">0.5</span>
</pre></div>
</div>
<p>O código carrega a folha de estilo personalizada deste livro. Depois disso, o estilo das plotagens passa a obedecer às novas regras.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plotagens em estilo personalizado</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;../etc/gcpeixoto-datavis.mplstyle&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">k</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/e6370004e156b7090d1ab2f4acc4d414a51da8f749dc2397f1d3ca76c2802e41.png" src="../_images/e6370004e156b7090d1ab2f4acc4d414a51da8f749dc2397f1d3ca76c2802e41.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">linspace</span><span class="p">,</span> <span class="n">random</span>

<span class="n">np</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span><span class="n">np</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">np</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x11b9c9c70&gt;
</pre></div>
</div>
<img alt="../_images/370ccf7910615e90c3c43a275bd7ff01a84a34b5e44f1f44599233cf7d4d5d75.png" src="../_images/370ccf7910615e90c3c43a275bd7ff01a84a34b5e44f1f44599233cf7d4d5d75.png" />
</div>
</div>
</section>
<section id="introspeccao-do-artist">
<h2><span class="section-number">9.7. </span>Introspecção do <code class="docutils literal notranslate"><span class="pre">Artist</span></code><a class="headerlink" href="#introspeccao-do-artist" title="Link to this heading">#</a></h2>
<p>A arquitetura do <em>matplotlib</em> possui 3 camadas maiores:</p>
<ol class="arabic simple">
<li><p>Camada de base (<em>backend layer</em>), a mais interna.</p></li>
<li><p>Camada do artista (<em>artista layer</em>), a intermediária.</p></li>
<li><p>Camada de código (<em>script layer</em>), a mais externa.</p></li>
</ol>
<p>Na maioria do tempo, usuários do <em>matplotlib</em> escrevem códigos “na superfície” e manipulam o estilo visual das plotagens na camada intermediária. Raramente, o trabalho aprofunda-se na camada de base.</p>
<p>A fim de compreendermos melhor a camada <code class="docutils literal notranslate"><span class="pre">Artist</span></code>, é útil compreender os seguintes elementos:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">matplotlib.backend_bases.FigureCanvas</span></code>, a área (tela de pintura) sobre a qual uma figura é desenhada;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matplotlib.backend_bases.Rendered</span></code>, o objeto que cuida da renderização no <code class="docutils literal notranslate"><span class="pre">FigureCanvas</span></code> (mente de quem pinta);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matplotlib.artist.Artist</span></code>, o objeto que usa o renderizador para pintar (pincéis e tintas);</p></li>
</ul>
<p>Os dois primeiros estão na camada de base. O último está na camada intermediária. Como qualquer artista, vamos aprender a trabalhar com os materiais de pintura, propriamente ditos, os pincéis e as tintas.</p>
<p>Adicionalmente, existem dois tipos de <code class="docutils literal notranslate"><span class="pre">matplotlib.artist.Artist</span></code>:</p>
<ul class="simple">
<li><p><em>primitivos</em>: representam os objetos gráficos a serem desenhados (<code class="docutils literal notranslate"><span class="pre">Line2D</span></code>, <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code>, <code class="docutils literal notranslate"><span class="pre">Text</span></code> etc.)</p></li>
<li><p><em>contêineres</em>: representam os locais onde os objetos serão pintados (<code class="docutils literal notranslate"><span class="pre">Axis</span></code>, <code class="docutils literal notranslate"><span class="pre">Axes</span></code>, <code class="docutils literal notranslate"><span class="pre">Figure</span></code>).</p></li>
</ul>
<p>O <em>pipeline</em> de uso do <em>matplotlib</em> basicamente depende da criação de uma <code class="docutils literal notranslate"><span class="pre">Figure</span></code> e da manipulação de <code class="docutils literal notranslate"><span class="pre">Axes</span></code>.</p>
<section id="manipulando-objetos">
<h3><span class="section-number">9.7.1. </span>Manipulando objetos<a class="headerlink" href="#manipulando-objetos" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># nova figura</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span> 

<span class="c1"># eixos</span>
<span class="c1"># (x_origem, y_origem, largura, altura)</span>
<span class="n">rect1</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.1</span> 
<span class="n">rect2</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span><span class="mf">1.7</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.2</span>
<span class="n">rect3</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span>
<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">(</span><span class="n">rect1</span><span class="p">)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">(</span><span class="n">rect2</span><span class="p">)</span>
<span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">(</span><span class="n">rect3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/111127aa73c6e18541a29c9dbc9e35591914ba16dd33a12230a32e6213675d6a.png" src="../_images/111127aa73c6e18541a29c9dbc9e35591914ba16dd33a12230a32e6213675d6a.png" />
</div>
</div>
</section>
<section id="gets-e-sets">
<h3><span class="section-number">9.7.2. </span><code class="docutils literal notranslate"><span class="pre">gets</span></code> e <code class="docutils literal notranslate"><span class="pre">sets</span></code><a class="headerlink" href="#gets-e-sets" title="Link to this heading">#</a></h3>
<p>As propriedades dos objetos são acessadas por <code class="docutils literal notranslate"><span class="pre">get</span></code> e modificadas por <code class="docutils literal notranslate"><span class="pre">set</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># busca todas as propriedades</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">artist</span><span class="o">.</span><span class="n">getp</span><span class="p">(</span><span class="n">ax1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    adjustable = box
    agg_filter = None
    alpha = None
    anchor = C
    animated = False
    aspect = auto
    autoscale_on = True
    autoscalex_on = True
    autoscaley_on = True
    axes_locator = None
    axisbelow = line
    box_aspect = None
    children = [&lt;matplotlib.spines.Spine object at 0x11b9c9d30&gt;, ...
    clip_box = None
    clip_on = True
    clip_path = None
    contains = None
    data_ratio = 1.0
    default_bbox_extra_artists = [&lt;matplotlib.spines.Spine object at 0x11b9c9d30&gt;, ...
    facecolor or fc = (0.51, 0.81, 0.58, 0.1)
    figure = Figure(640x480)
    frame_on = True
    gid = None
    images = &lt;a list of 0 AxesImage objects&gt;
    in_layout = True
    label = 
    legend = None
    legend_handles_labels = ([], [])
    lines = &lt;a list of 0 Line2D objects&gt;
    navigate = True
    navigate_mode = None
    path_effects = []
    picker = None
    position = Bbox(x0=0.0, y0=1.5, x1=0.5, y1=1.6)
    rasterization_zorder = None
    rasterized = None
    renderer_cache = &lt;matplotlib.backends.backend_agg.RendererAgg objec...
    shared_x_axes = &lt;matplotlib.cbook.Grouper object at 0x10ec0b610&gt;
    shared_y_axes = &lt;matplotlib.cbook.Grouper object at 0x10ec4f2b0&gt;
    sketch_params = None
    snap = None
    title = 
    transform = IdentityTransform()
    transformed_clip_path_and_affine = (None, None)
    url = None
    visible = True
    window_extent = TransformedBbox(     Bbox(x0=0.0, y0=1.5, x1=0.5, ...
    xaxis = XAxis(0.0,720.0)
    xaxis_transform = BlendedGenericTransform(     CompositeGenericTrans...
    xbound = (0.0, 1.0)
    xgridlines = &lt;a list of 6 Line2D gridline objects&gt;
    xlabel = 
    xlim = (0.0, 1.0)
    xmajorticklabels = [Text(0.0, 0, &#39;0.0&#39;), Text(0.2, 0, &#39;0.2&#39;), Text(0....
    xminorticklabels = []
    xscale = linear
    xticklabels = [Text(0.0, 0, &#39;0.0&#39;), Text(0.2, 0, &#39;0.2&#39;), Text(0....
    xticklines = &lt;a list of 12 Line2D ticklines objects&gt;
    xticks = [0.  0.2 0.4 0.6 0.8 1. ]
    yaxis = YAxis(0.0,720.0)
    yaxis_transform = BlendedGenericTransform(     BboxTransformTo(     ...
    ybound = (0.0, 1.0)
    ygridlines = &lt;a list of 2 Line2D gridline objects&gt;
    ylabel = 
    ylim = (0.0, 1.0)
    ymajorticklabels = [Text(0, 0.0, &#39;0&#39;), Text(0, 1.0, &#39;1&#39;)]
    yminorticklabels = []
    yscale = linear
    yticklabels = [Text(0, 0.0, &#39;0&#39;), Text(0, 1.0, &#39;1&#39;)]
    yticklines = &lt;a list of 4 Line2D ticklines objects&gt;
    yticks = [0. 1.]
    zorder = 0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># busca valor da propriedade `get_frame_on()`</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">get_frame_on</span><span class="p">()</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/111127aa73c6e18541a29c9dbc9e35591914ba16dd33a12230a32e6213675d6a.png" src="../_images/111127aa73c6e18541a29c9dbc9e35591914ba16dd33a12230a32e6213675d6a.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># altera valor da propriedade `get_frame_on()`</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/315d7338dda25bb9f9cfc6d3142a5010f7736b355c6ed5de513b603ec5c0fec2.png" src="../_images/315d7338dda25bb9f9cfc6d3142a5010f7736b355c6ed5de513b603ec5c0fec2.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">rcdefaults</span><span class="p">();</span> 
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="estilizacao-temporaria">
<h2><span class="section-number">9.8. </span>Estilização temporária<a class="headerlink" href="#estilizacao-temporaria" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

<span class="k">with</span> <span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="s1">&#39;seaborn&#39;</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;#117029&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/c9bd63951062077f7f5f6c1845cfccb32c8314f3ad49b43b29bb62dd1b127253.png" src="../_images/c9bd63951062077f7f5f6c1845cfccb32c8314f3ad49b43b29bb62dd1b127253.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">context</span><span class="p">(</span><span class="s1">&#39;seaborn-talk&#39;</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;#117029&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/c373510b9b5a3ce472d566441a9e3c5d1603f0d6e0549d0789d3e3b59fec32ba.png" src="../_images/c373510b9b5a3ce472d566441a9e3c5d1603f0d6e0549d0789d3e3b59fec32ba.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./ipynb"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="08a-storytelling.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">8. </span>Técnicas de <em>Storytelling</em></p>
      </div>
    </a>
    <a class="right-next"
       href="20-dcs-quantidade.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">10. </span><em>Dataviz Code Session</em>: Quantidades</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backend-x-frontend">9.1. <em>Backend</em> x <em>frontend</em></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configuracao-de-backend">9.1.1. Configuração de <em>backend</em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#modificando-as-rc-settings">9.1.1.1. Modificando as <em>rc settings</em></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#definindo-variavel-de-ambiente">9.1.1.2. Definindo variável de ambiente</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#usando-a-funcao-use">9.1.1.3. Usando a função <code class="docutils literal notranslate"><span class="pre">use()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backends-predefinidos-renderizadores-e-canvas">9.1.2. <em>Backends</em> predefinidos, renderizadores e <em>canvas</em></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#rasterizacao-e-vetorizacao">9.1.2.1. Rasterização e vetorização</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dissecando-um-plot">9.2. Dissecando um plot</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anatomia-de-uma-figura">9.2.1. Anatomia de uma figura</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#template-para-funcao-de-auxilio-helper-function-de-plotagem">9.2.2. Template para função de auxílio (<em>helper function</em>) de plotagem</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estilos-de-codagem">9.3. Estilos de codagem</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estilizacao-do-artist">9.4. Estilização do <code class="docutils literal notranslate"><span class="pre">Artist</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estilos-padronizados">9.5. Estilos padronizados</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estilos-personalizados">9.6. Estilos personalizados</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introspeccao-do-artist">9.7. Introspecção do <code class="docutils literal notranslate"><span class="pre">Artist</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manipulando-objetos">9.7.1. Manipulando objetos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gets-e-sets">9.7.2. <code class="docutils literal notranslate"><span class="pre">gets</span></code> e <code class="docutils literal notranslate"><span class="pre">sets</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estilizacao-temporaria">9.8. Estilização temporária</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Prof. Gustavo Oliveira
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>